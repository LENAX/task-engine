# E2E测试

编写3个Workflow来测试真实业务场景，实现端到端测试，验证项目在实际场景的可行性。

### 1. Tushare API文档爬取和元数据保存

目标：爬取https://tushare.pro/document/2，将爬取的结果保存为元数据。需要真正去爬取和解析。

要求：

1. 爬取阶段：
   1. 获取目录列表(树形)，列表深度可能是2层 - 4层。如股票数据（xpath: //*[@id="j1_1_anchor"])
      1. 在到达叶子节点前，只获取标题；到达叶子节点后，获取标题和链接
      2. 忽略：数据索引，社区捐助
   2. 获取api的详细信息
      1. 标题
      2. 描述信息
         1. 接口
         2. 描述
         3. 权限
      3. 输入参数表
         1. 名称
         2. 类型
         3. 必选
         4. 描述
      4. 输出参数表
         1. 名称
         2. 类型
         3. 默认显示
         4. 描述
2. 元数据保存
   1. 元数据包括：DataProvider, APICatalog, APIParam, APIDataField

### 基于元数据建表

基于获取的元数据，在事务中一次性完成建表。数据库为sqlite


### 数据获取

爬取20251201 - 20251231的市场数据。需要下载：日历，股票基础信息，历史日线，复权因子，利润表，资产负债表，现金流量表、龙虎榜每日榜单

保存到sqlite数据库

注意：元数据和股票数据要分开在两个数据库存放。

最后输出测试结果和下载的数据，保存数据库在test/e2e/data目录
